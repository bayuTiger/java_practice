# Procedure manual

1. csvファイルの読み込み(ReadCsv.java) OK!
2. 読み込んだデータをmapに格納(CreateMap.java)
3. 格納したデータの表示(Display.java)

## わからないところ

- 3次元目のkeyである「人口、都道府県庁所在地」をどうやって定義するか
- csvデータをどうやって多次元mapに組み込むか
  - まずstreamからmapに変換したい
  - そのためにはどうやら一旦配列に変換する必要がありそう
    - 配列からmapに変換できない
    - Collect.toMapで変換しようとしたが、mapがネストされていてどのようにkeyとvalueを指定したらよいかがわからない

- 1つの都道府県に全ての市区町村が入ってしまう
- 都道府県庁所在地がexceptionを出すので例外処理を追加したがうまく働かない(全てに〇がついてしまう)

### 試行錯誤したこと

- 1つの都道府県にすべて入ってしまうのは、処理の順番が関係あるかもしれない
  - 順番を変更しても変化はなかった
- arr[3]都道府県庁所在地がindexException

## やること

- for文の中で「,」でスプリットして配列を作ることはできた([0]->都道府県名,[1]-> 市区町村名, [2]-> data人口県庁所在地)
- 次はかくいんでっくすをマップに入れる

## 別ファイルへの切り出し

1. csv読み出し
2. 読みだしたデータのMap変換

## 書き置き

- 処理の切り分け目的で、あるメソッドを別クラスに切り出す場合、そのメソッドを`static`にする意義
  - 今回は**将来的に「csvのreadだけでなく、storeやdelete等の機能追加が予想される」パターンを想定**して、csvのパスをコンストラクタで各メソッド共通の変数として利用したかったので、インスタンスをnewするためにstaticにしていない
  - ただ*メソッドごとに引数を設定すればよいのでは？*とも考えられる。その場合インスタンス化することによるオーバーヘッドがなくなるというメリットがある。ただメソッドごとに引数を記述するのも面倒だし、なにより共通のcsvファイルを利用する場合だとエコじゃない
    - 複数のcsvファイルを扱うことが想定されるなら、メソッドごとに引数を入力する形のほうが都合が良いのか？ならstaticメソッドにするインセンティブがある
- 引数有のコンストラクタで`this.hoge = hoge;`ってsetしてるのに`setHoge`は必要なのか？
- `getHoge`も、初期値が無くて引数有のコンストラクタで初期値を設定しているので、必要ないのではないか？
- 他クラスのメソッドを使いたいときに`extends`をしないで、インスタンス化するのはOKなのか？
  - 他クラスのメソッドを**改変することなく使いたいとき**は継承しないことが推奨されるのか?
  - 多重継承できないといっても、*1つのクラスを継承して他のクラスをインスタンス化する*のはOKなのか？
  - もしOKなら、逆に`extends`しなければならない場面とは何か？
    - 継承したクラスの**メソッドを改変して使いたいとき*？
    - つまりオーバーロードするときとか？インターフェースは強制されるから使い勝手は場合によって悪くなる
- *ConvertMap*に置いて、**prefectures変数の宣言**はメソッド内で行うべきか、それともクラス内で行うべきか
  - クラス内で行うメリットとして、もしmunicipalitiesを返すメソッドを作りたい場合に、**再度newする必要がなくなる**という事が考えられる
